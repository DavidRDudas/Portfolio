const background=new BackgroundEffect;window.addEventListener("resize",(()=>background.resize())),background.animate();class ProjectCarousel{constructor(){this.currentIndex=0,this.container=document.querySelector(".projects-container"),this.track=document.querySelector(".carousel-track"),this.isTransitioning=!1,this.setupCarousel(),this.autoPlayInterval=null,this.startAutoPlay()}setupCarousel(){projects.forEach(((t,e)=>{const i=t.demoLink&&!t.demoLink.startsWith("./")&&!t.demoLink.startsWith("/"),s=`\n                <article class="project-item ${0===e?"active":""}">\n                    <div class="project-image">\n                        ${i?'<span class="external-tag">External Site</span>':""}\n                        <img src="${t.image}" alt="${t.title}" \n                             onerror="this.src='https://via.placeholder.com/600x400?text=${encodeURIComponent(t.title)}'">\n                    </div>\n                    <div class="project-content">\n                        <span class="project-category">${t.category}</span>\n                        <h2 class="project-title">${t.title}</h2>\n                        <p class="project-description">${t.description}</p>\n                        <div class="project-tech-stack">\n                            ${t.techStack.map((t=>`\n                                <span class="tech-tag">${t}</span>\n                            `)).join("")}\n                        </div>\n                        <div class="project-links">\n                            ${t.demoLink?`\n                                <a href="${t.demoLink}" class="project-link primary" ${i?'target="_blank"':""}>Live Demo</a>\n                            `:""}\n                            ${t.githubLink?`\n                                <a href="${t.githubLink}" class="project-link secondary" target="_blank">View Code</a>\n                            `:""}\n                        </div>\n                    </div>\n                </article>\n            `;this.track.insertAdjacentHTML("beforeend",s)}));const t=document.querySelector(".carousel-indicators");t.innerHTML="",projects.forEach(((e,i)=>{const s=document.createElement("div");s.className="carousel-dot "+(0===i?"active":""),s.addEventListener("click",(()=>{if(!this.isTransitioning){const t=i>this.currentIndex?"right":"left";this.goToSlide(i,t),this.stopAutoPlay()}})),t.appendChild(s)}));const e=this.container.querySelector(".prev"),i=this.container.querySelector(".next");e.addEventListener("click",(()=>{this.isTransitioning||(this.prevSlide(),this.stopAutoPlay())})),i.addEventListener("click",(()=>{this.isTransitioning||(this.nextSlide(),this.stopAutoPlay())})),this.container.addEventListener("mouseenter",(()=>this.stopAutoPlay())),this.container.addEventListener("mouseleave",(()=>this.startAutoPlay()))}goToSlide(t,e="right"){if(this.isTransitioning||this.currentIndex===t)return;this.isTransitioning=!0;const i=this.track.querySelectorAll(".project-item"),s=document.querySelectorAll(".carousel-dot"),n=i[this.currentIndex],r=i[t];n.classList.add("right"===e?"slide-left":"slide-right"),r.classList.add("right"===e?"slide-right":"slide-left"),n.classList.remove("active"),s[this.currentIndex].classList.remove("active"),r.offsetWidth,this.currentIndex=t,r.classList.add("active"),r.classList.remove("right"===e?"slide-right":"slide-left"),s[this.currentIndex].classList.add("active"),setTimeout((()=>{n.classList.remove("slide-left","slide-right"),this.isTransitioning=!1}),500)}nextSlide(){const t=(this.currentIndex+1)%projects.length;this.goToSlide(t,"right")}prevSlide(){const t=(this.currentIndex-1+projects.length)%projects.length;this.goToSlide(t,"left")}startAutoPlay(){this.autoPlayInterval||(this.autoPlayInterval=setInterval((()=>{this.isTransitioning||this.nextSlide()}),5e3))}stopAutoPlay(){this.autoPlayInterval&&(clearInterval(this.autoPlayInterval),this.autoPlayInterval=null)}}document.addEventListener("DOMContentLoaded",(()=>{new ProjectCarousel}));